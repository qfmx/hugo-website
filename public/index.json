[{"categories":["建站"],"content":"愿时光待你温暖如初","date":"2022-12-01","objectID":"/002-website-sync/","tags":["website"],"title":"从0到1搭建一个手动本地脚本同步网站","uri":"/002-website-sync/"},{"categories":["建站"],"content":"开篇 你必须选择一个静态网站，如Hexo、VuePress、Hugo等作为博客模板，我选择的Hugo作为模板，本文教程也是基于Hugo进行的，这里我更建议使用它。当然，使用其他模板也是可以的，步骤简直是一模一样。 ","date":"2022-12-01","objectID":"/002-website-sync/:1:0","tags":["website"],"title":"从0到1搭建一个手动本地脚本同步网站","uri":"/002-website-sync/"},{"categories":["建站"],"content":"搭建本地博客 环境需求：WIndows 10 或者 WIndows 11，条件好的用Mac也是阔以滴，如果你使用的是Mac，你可以去别的地方百度了，这儿使用的是Windows作为本地环境哦 下载Hugo.exe文件。管网：https://github.com/hugo-fixit/FixIt 然后安装官方文档搭建即可 ","date":"2022-12-01","objectID":"/002-website-sync/:2:0","tags":["website"],"title":"从0到1搭建一个手动本地脚本同步网站","uri":"/002-website-sync/"},{"categories":["建站"],"content":"Web Hooks npm i github-webhook-handler var http = require('http') var createHandler = require('github-webhook-handler') var handler = createHandler({ path: '/webhook', secret: 'myhashsecret' }) http.createServer(function (req, res) { handler(req, res, function (err) { res.statusCode = 404 res.end('no such location') }) }).listen(7777) handler.on('error', function (err) { console.error('Error:', err.message) }) handler.on('push', function (event) { console.log('Received a push event for %s to %s', event.payload.repository.name, event.payload.ref) }) handler.on('issues', function (event) { console.log('Received an issue event for %s action=%s: #%d %s', event.payload.repository.name, event.payload.action, event.payload.issue.number, event.payload.issue.title) }) 本站的webhooks var http = require('http') var createHandler = require('github-webhook-handler') var handler = createHandler({ path: '/hugo', secret: 'hugo-sdfssd11' }) // 上面的 secret 保持和 GitHub 后台设置的一致 function run_cmd(cmd, args, callback) { var spawn = require('child_process').spawn; var child = spawn(cmd, args); var resp = \"\"; child.stdout.on('data', function (buffer) { resp += buffer.toString(); }); child.stdout.on('end', function () { callback(resp) }); } http.createServer(function (req, res) { handler(req, res, function (err) { res.statusCode = 404 res.end('no such location') }) }).listen(7005,() =\u003e{ console.log('WebHooks Listern at 7005'); }) handler.on('push', function (event) { console.log('Received a push event for %s to %s', event.payload.repository.name, event.payload.ref); // 分支判断 if(event.payload.ref === 'refs/heads/main'){ console.log('deploy master..') run_cmd('sh', ['./deploy.sh'], function(text){ console.log(text) }); } }) Location Bat File @echo off hugo -D git add . git commit -m \"update blog\" git push pause ","date":"2022-12-01","objectID":"/002-website-sync/:3:0","tags":["website"],"title":"从0到1搭建一个手动本地脚本同步网站","uri":"/002-website-sync/"},{"categories":["建站"],"content":"Repo qfmx/hugo-website: 我的网站 (github.com) ","date":"2022-12-01","objectID":"/002-website-sync/:4:0","tags":["website"],"title":"从0到1搭建一个手动本地脚本同步网站","uri":"/002-website-sync/"},{"categories":["mybatis"],"content":"测试1 测试 多线程 public class MyThread extends Thread { public void run() { System.out.println(\"MyThread.run()\"); } } MyThread myThread1 = new MyThread(); myThread1.start(); ","date":"2022-11-25","objectID":"/mybatis/1/:0:1","tags":["mybatis"],"title":"测试文档1","uri":"/mybatis/1/"},{"categories":null,"content":"关于 Title\r阿猫\rMajor\rJava\r","date":"2022-11-25","objectID":"/about/:1:0","tags":null,"title":"关于","uri":"/about/"},{"categories":["mybatis"],"content":"测试 测试 多线程 public class MyThread extends Thread { public void run() { System.out.println(\"MyThread.run()\"); } } MyThread myThread1 = new MyThread(); myThread1.start(); ","date":"2022-11-24","objectID":"/mybatis/2/:0:1","tags":["mybatis"],"title":"2","uri":"/mybatis/2/"},{"categories":["mybatis"],"content":"测试 测试 多线程 public class MyThread extends Thread { public void run() { System.out.println(\"MyThread.run()\"); } } MyThread myThread1 = new MyThread(); myThread1.start(); ","date":"2022-11-24","objectID":"/mybatis/3/:0:1","tags":["mybatis"],"title":"3","uri":"/mybatis/3/"},{"categories":["mybatis"],"content":"测试 测试 多线程 public class MyThread extends Thread { public void run() { System.out.println(\"MyThread.run()\"); } } MyThread myThread1 = new MyThread(); myThread1.start(); ","date":"2022-11-24","objectID":"/mybatis/5/:0:1","tags":["mybatis"],"title":"5","uri":"/mybatis/5/"},{"categories":["建站"],"content":"愿时光待你温暖如初","date":"2022-11-24","objectID":"/001-theme-sitting/","tags":["website"],"title":"主题的一些设置","uri":"/001-theme-sitting/"},{"categories":["建站"],"content":"部署Example hugo #部署prod环境 hugo -D #部署dev环境 hugo server #prod环境本地预览 localhost:1313 hugo server -D #dev环境本地预览 localhost:1313 ","date":"2022-11-24","objectID":"/001-theme-sitting/:1:0","tags":["website"],"title":"主题的一些设置","uri":"/001-theme-sitting/"},{"categories":["建站"],"content":"横幅使用 注意\r一个 注意 横幅\r摘要\r一个 摘要 横幅\r信息\r一个 信息 横幅\r技巧\r一个 技巧 横幅\r成功\r一个 成功 横幅\r问题\r一个 问题 横幅\r警告\r一个 警告 横幅\r失败\r一个 失败 横幅\r危险\r一个 危险 横幅\rBug\r一个 Bug 横幅\r示例\r一个 示例 横幅\r引用\r一个 引用 横幅\r","date":"2022-11-24","objectID":"/001-theme-sitting/:2:0","tags":["website"],"title":"主题的一些设置","uri":"/001-theme-sitting/"},{"categories":["mybatis"],"content":"测试 测试 多线程 public class MyThread extends Thread { public void run() { System.out.println(\"MyThread.run()\"); } } MyThread myThread1 = new MyThread(); myThread1.start(); ","date":"2022-11-24","objectID":"/mybatis/6/:0:1","tags":["mybatis"],"title":"6","uri":"/mybatis/6/"},{"categories":["mybatis"],"content":"测试 测试 多线程 public class MyThread extends Thread { public void run() { System.out.println(\"MyThread.run()\"); } } MyThread myThread1 = new MyThread(); myThread1.start(); ","date":"2022-10-24","objectID":"/mybatis/4/:0:1","tags":["mybatis"],"title":"4","uri":"/mybatis/4/"},{"categories":null,"content":"友联格式 - nickname: 浅枫沐雪 avatar: https://gravatar.loli.net/avatar/79e7d8047e78c312d4e5951b84089cc9 url: https://allms.cn description: 愿时光待你温暖如初 ","date":"0001-01-01","objectID":"/friends/:1:0","tags":null,"title":"友情链接","uri":"/friends/"},{"categories":null,"content":"友联要求 信息\r网站类型需为博客类型，包括但不限于学习记录类、生活记录类博客。 要求站点启用SSL，无死链。 站点为正规网站，无违法信息。 站点需要有实质内容，无大量搬运类文章。 站点年龄\u003e1年 ","date":"0001-01-01","objectID":"/friends/:2:0","tags":null,"title":"友情链接","uri":"/friends/"}]